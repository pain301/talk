幂等性
1. 去重表：唯一标识插入场景
2. 多版本控制：更新的场景
3. 状态机控制：状态流转的场景

秒杀系统独立部署
秒杀商品页面静态化
将商品描述、参数、详情，全部写到一个静态页面，不用进行程序的逻辑处理，不需访问数据库，不用部署动态的服务器和数据库服务器
租借秒杀活动的网络带宽
动态生成随机下单页面的 URL
禁止用户重复提交请求
同一个 uid，限制访问频度，做页面缓存，x 秒内到达站点层的请求，均返回同一页面
同一个 item 的查询，做页面缓存，x 秒内到达站点层的请求，均返回同一页面
请求队列，每次只透有限的写请求去数据层

在页面中引用一个极小JS文件，该JS包含秒杀开始标志，修改样式，生成下单页面的URL及随机参数
该JS文件不被缓存方式：xxx.js?v=随机数
会有一台服务器进行监控(定时上下架)：
当秒杀活动开始时推送该文件
当秒杀活动结束时推送文件，标示结束标志，修改样式

（前置检查逻辑）检查本机已处理的下单请求数目：
如果超过10条，直接返回已结束页面给用户
如果未超过10条，则用户可进入填写订单及确认页面
（前置检查逻辑）检查全局已提交订单数目：
已超过秒杀商品总数，返回秒杀结束页面
未超过秒杀商品总数，提交到子订单系统

客户端定时和服务器同步时间，用于同步时间的接口不涉及到后端逻辑，只需要将当前web服务器的时间发送给客户端，这个接口可以只返回小段json格式的数据，而且可以优化一下减少不必要cookie和其他http头的信息，所以数据量不会很大，web服务器之间时间不同步可以采用统一时间服务器的方式，比如每隔1分钟所有参与秒杀活动的web服务器就与时间服务器做一次时间同步

QPS = 日PV × 读写次数/PV ÷ (8 × 60 × 60)
峰值系数在10以内
